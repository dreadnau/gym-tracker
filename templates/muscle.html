{% extends "base.html" %}

{% block content %}

<div class="workout-top mb-3">

    <div>
        <h4 class="fw-bold text-white">{{ title }}</h4>

        <!-- FIXED VISIBILITY -->
        <p style="color:#d1d5db; font-size:13px;">
            Progress beats excuses ðŸ’ª
        </p>
    </div>

    <a href="/add-workout?day={{ title }}" class="btn btn-success btn-sm">
        <i class="bi bi-plus-circle"></i>
    </a>

</div>

{% for exercise, sets in workouts | groupby("exercise") %}

<div class="exercise-card-pro">

    <div class="exercise-header mb-2">

        <h6 class="fw-bold mb-0 text-white">
            <i class="bi bi-lightning-charge-fill text-warning"></i>
            {{ exercise }}
        </h6>

        <a href="/add-workout?day={{ title }}&exercise={{ exercise }}"
           class="btn btn-outline-success btn-sm">
           + Set
        </a>

    </div>

    <div class="table-responsive">

        <table class="table table-dark table-sm align-middle">

            <thead>
                <tr>
                    <th>SET</th>
                    <th>KG</th>
                    <th>REPS</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>

            {% for w in sets %}

                <tr>
                    <td>{{ w.set_number }}</td>
                    <td>{{ w.weight }}</td>
                    <td>{{ w.reps }}</td>

                    <td class="text-end">

                        <a href="/edit-workout/{{ w.id }}"
                           class="btn btn-warning btn-sm">
                           <i class="bi bi-pencil"></i>
                        </a>

                        <a href="/delete-workout/{{ w.id }}"
                           onclick="return confirm('Delete set?')"
                           class="btn btn-danger btn-sm">
                           <i class="bi bi-trash"></i>
                        </a>

                    </td>
                </tr>

            {% endfor %}

            </tbody>

        </table>

    </div>

</div>

{% endfor %}

{% endblock %}
